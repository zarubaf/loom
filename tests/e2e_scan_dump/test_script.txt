# Scan dump test with DPI calls
# Step through every FSM state one cycle at a time.

# After reset: StIdle
dump build/snap_idle.pb

# StIdle -> StCallAdd
step 1
dump build/snap_call_add.pb

# StCallAdd -> StCallNotify (dpi_add executes)
step 1
dump build/snap_call_notify.pb

# StCallNotify -> StCallFill (dpi_notify executes)
step 1
dump build/snap_call_fill.pb

# StCallFill -> StCallSum (dpi_fill_fixed executes)
step 1
dump build/snap_call_sum.pb

# StCallSum -> StDone (dpi_sum_open executes)
step 1
dump build/snap_done.pb

# 3 more cycles counting in StDone
step 3
dump build/snap_count.pb

# Inspect every snapshot
inspect build/snap_idle.pb
inspect build/snap_call_add.pb
inspect build/snap_call_notify.pb
inspect build/snap_call_fill.pb
inspect build/snap_call_sum.pb
inspect build/snap_done.pb
inspect build/snap_count.pb

exit
